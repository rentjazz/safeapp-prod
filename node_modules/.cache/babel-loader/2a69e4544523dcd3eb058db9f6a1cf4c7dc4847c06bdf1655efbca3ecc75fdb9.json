{"ast":null,"code":"import _objectSpread from\"/data/.openclaw/workspace/safeapp-prod/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";const N8N_URL=window.N8N_URL||'https://n8n.superprojetx.com';console.log('n8n URL:',N8N_URL);class ApiService{// Tasks\nstatic async getTasks(){const res=await fetch(\"\".concat(N8N_URL,\"/webhook/safeapp-tasks\"));if(!res.ok)throw new Error('Erreur tâches');return res.json();}static async createTask(task){const res=await fetch(\"\".concat(N8N_URL,\"/webhook/safeapp-task-create\"),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(task)});if(!res.ok)throw new Error('Erreur création');return res.json();}static async updateTask(listId,taskId,task){const res=await fetch(\"\".concat(N8N_URL,\"/webhook/safeapp-task-update\"),{method:'PUT',headers:{'Content-Type':'application/json'},body:JSON.stringify(_objectSpread({listId,taskId},task))});if(!res.ok)throw new Error('Erreur mise à jour');return res.json();}static async deleteTask(listId,taskId){const res=await fetch(\"\".concat(N8N_URL,\"/webhook/safeapp-task-delete\"),{method:'DELETE',headers:{'Content-Type':'application/json'},body:JSON.stringify({listId,taskId})});if(!res.ok)throw new Error('Erreur suppression');return res.json();}// Calendar\nstatic async getCalendarEvents(){const res=await fetch(\"\".concat(N8N_URL,\"/webhook/safeapp-calendar\"));if(!res.ok)throw new Error('Erreur calendrier');return res.json();}// Stock\nstatic async getStock(){const res=await fetch(\"\".concat(N8N_URL,\"/webhook/safeapp-stock\"));if(!res.ok)throw new Error('Erreur stock');return res.json();}}export default ApiService;","map":{"version":3,"names":["N8N_URL","window","console","log","ApiService","getTasks","res","fetch","concat","ok","Error","json","createTask","task","method","headers","body","JSON","stringify","updateTask","listId","taskId","_objectSpread","deleteTask","getCalendarEvents","getStock"],"sources":["/data/.openclaw/workspace/safeapp-prod/src/services/api.js"],"sourcesContent":["const N8N_URL = window.N8N_URL || 'https://n8n.superprojetx.com';\n\nconsole.log('n8n URL:', N8N_URL);\n\nclass ApiService {\n  // Tasks\n  static async getTasks() {\n    const res = await fetch(`${N8N_URL}/webhook/safeapp-tasks`);\n    if (!res.ok) throw new Error('Erreur tâches');\n    return res.json();\n  }\n\n  static async createTask(task) {\n    const res = await fetch(`${N8N_URL}/webhook/safeapp-task-create`, {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify(task)\n    });\n    if (!res.ok) throw new Error('Erreur création');\n    return res.json();\n  }\n\n  static async updateTask(listId, taskId, task) {\n    const res = await fetch(`${N8N_URL}/webhook/safeapp-task-update`, {\n      method: 'PUT',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ listId, taskId, ...task })\n    });\n    if (!res.ok) throw new Error('Erreur mise à jour');\n    return res.json();\n  }\n\n  static async deleteTask(listId, taskId) {\n    const res = await fetch(`${N8N_URL}/webhook/safeapp-task-delete`, {\n      method: 'DELETE',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ listId, taskId })\n    });\n    if (!res.ok) throw new Error('Erreur suppression');\n    return res.json();\n  }\n\n  // Calendar\n  static async getCalendarEvents() {\n    const res = await fetch(`${N8N_URL}/webhook/safeapp-calendar`);\n    if (!res.ok) throw new Error('Erreur calendrier');\n    return res.json();\n  }\n\n  // Stock\n  static async getStock() {\n    const res = await fetch(`${N8N_URL}/webhook/safeapp-stock`);\n    if (!res.ok) throw new Error('Erreur stock');\n    return res.json();\n  }\n}\n\nexport default ApiService;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}