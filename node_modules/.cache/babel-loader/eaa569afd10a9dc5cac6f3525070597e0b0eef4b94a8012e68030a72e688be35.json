{"ast":null,"code":"import React,{useState,useEffect}from'react';import ApiService from'../services/api';import{Calendar as CalendarIcon,Clock}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Calendar(){const[events,setEvents]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);useEffect(()=>{loadEvents();},[]);const loadEvents=async()=>{try{setLoading(true);const data=await ApiService.getCalendarEvents();setEvents(data.items||[]);setError(null);}catch(err){setError(err.message);}finally{setLoading(false);}};const formatDate=event=>{if(event.start.dateTime){return new Date(event.start.dateTime).toLocaleString('fr-FR',{weekday:'short',day:'numeric',month:'short',hour:'2-digit',minute:'2-digit'});}return new Date(event.start.date).toLocaleDateString('fr-FR',{weekday:'short',day:'numeric',month:'short'});};if(loading)return/*#__PURE__*/_jsx(\"div\",{className:\"loading\",children:\"Chargement...\"});if(error)return/*#__PURE__*/_jsxs(\"div\",{className:\"error\",children:[\"Erreur: \",error]});return/*#__PURE__*/_jsxs(\"div\",{className:\"calendar-container\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Prochains rendez-vous (3 jours)\"}),/*#__PURE__*/_jsx(\"div\",{className:\"event-list\",children:events.length===0?/*#__PURE__*/_jsx(\"p\",{className:\"empty\",children:\"Aucun rendez-vous\"}):events.map(event=>/*#__PURE__*/_jsxs(\"div\",{className:\"event-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"event-icon\",children:/*#__PURE__*/_jsx(CalendarIcon,{size:24})}),/*#__PURE__*/_jsxs(\"div\",{className:\"event-content\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"event-title\",children:event.summary}),/*#__PURE__*/_jsxs(\"p\",{className:\"event-time\",children:[/*#__PURE__*/_jsx(Clock,{size:14}),\" \",formatDate(event)]}),event.location&&/*#__PURE__*/_jsxs(\"p\",{className:\"event-location\",children:[\"\\uD83D\\uDCCD \",event.location]})]})]},event.id))})]});}export default Calendar;","map":{"version":3,"names":["React","useState","useEffect","ApiService","Calendar","CalendarIcon","Clock","jsx","_jsx","jsxs","_jsxs","events","setEvents","loading","setLoading","error","setError","loadEvents","data","getCalendarEvents","items","err","message","formatDate","event","start","dateTime","Date","toLocaleString","weekday","day","month","hour","minute","date","toLocaleDateString","className","children","length","map","size","summary","location","id"],"sources":["/data/.openclaw/workspace/safeapp-prod/src/components/Calendar.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport ApiService from '../services/api';\nimport { Calendar as CalendarIcon, Clock } from 'lucide-react';\n\nfunction Calendar() {\n  const [events, setEvents] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    loadEvents();\n  }, []);\n\n  const loadEvents = async () => {\n    try {\n      setLoading(true);\n      const data = await ApiService.getCalendarEvents();\n      setEvents(data.items || []);\n      setError(null);\n    } catch (err) {\n      setError(err.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const formatDate = (event) => {\n    if (event.start.dateTime) {\n      return new Date(event.start.dateTime).toLocaleString('fr-FR', {\n        weekday: 'short',\n        day: 'numeric',\n        month: 'short',\n        hour: '2-digit',\n        minute: '2-digit'\n      });\n    }\n    return new Date(event.start.date).toLocaleDateString('fr-FR', {\n      weekday: 'short',\n      day: 'numeric',\n      month: 'short'\n    });\n  };\n\n  if (loading) return <div className=\"loading\">Chargement...</div>;\n  if (error) return <div className=\"error\">Erreur: {error}</div>;\n\n  return (\n    <div className=\"calendar-container\">\n      <h3>Prochains rendez-vous (3 jours)</h3>\n      <div className=\"event-list\">\n        {events.length === 0 ? (\n          <p className=\"empty\">Aucun rendez-vous</p>\n        ) : (\n          events.map(event => (\n            <div key={event.id} className=\"event-item\">\n              <div className=\"event-icon\">\n                <CalendarIcon size={24} />\n              </div>\n              <div className=\"event-content\">\n                <h4 className=\"event-title\">{event.summary}</h4>\n                <p className=\"event-time\">\n                  <Clock size={14} /> {formatDate(event)}\n                </p>\n                {event.location && (\n                  <p className=\"event-location\">üìç {event.location}</p>\n                )}\n              </div>\n            </div>\n          ))\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default Calendar;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}